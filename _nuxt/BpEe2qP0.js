import{A as Xe,B as $,e as B,w as D,C as z,D as R,E as m,P as Ze,r as Ie,G as Se,H as W,I as K,J as pe,K as Oe,L as Re,M as Ke,z as Pe,N as et,O as le,Q as ge,R as tt,S as me,U as st,V as ue,W as je,d as q,g as j,X as ve,Y as it,Z as nt,$ as rt,f as V,h as se,a0 as te,n as F,a1 as at,a2 as lt,a3 as U,t as ie,a4 as he,F as ne,a5 as ae,a6 as ut,a7 as ot,a8 as ct,a9 as ze,aa as Le,ab as dt,ac as ht,ad as ft,ae as pt,af as gt,ag as Me,ah as Fe,ai as mt,aj as vt,ak as yt}from"./DiJh2lyP.js";import{u as bt}from"./CMtDSqj0.js";import{i as At,L as xt,a as Ct,b as Et,c as It,d as Bt,e as St,f as Lt}from"./Dqw0kFoH.js";import"./CNqWek4_.js";var Mt=Xe({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(s){const t=s,e=At({id:""});return(n,r)=>(B(),$(m(Ze),R(t,{id:m(e).id}),{default:D(()=>[z(n.$slots,"default")]),_:3},16,["id"]))}}),Ft=Mt;function G(s){return Array.isArray?Array.isArray(s):He(s)==="[object Array]"}function kt(s){if(typeof s=="string")return s;let t=s+"";return t=="0"&&1/s==-1/0?"-0":t}function Dt(s){return s==null?"":kt(s)}function H(s){return typeof s=="string"}function qe(s){return typeof s=="number"}function _t(s){return s===!0||s===!1||$t(s)&&He(s)=="[object Boolean]"}function Ne(s){return typeof s=="object"}function $t(s){return Ne(s)&&s!==null}function P(s){return s!=null}function fe(s){return!s.trim().length}function He(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const wt="Incorrect 'index' type",Tt=s=>`Invalid value for key ${s}`,Ot=s=>`Pattern length exceeds max of ${s}.`,Rt=s=>`Missing ${s} property in key`,Kt=s=>`Property 'weight' in key '${s}' must be a positive integer`,ke=Object.prototype.hasOwnProperty;class Pt{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(n=>{let r=Ve(n);this._keys.push(r),this._keyMap[r.id]=r,e+=r.weight}),this._keys.forEach(n=>{n.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ve(s){let t=null,e=null,n=null,r=1,i=null;if(H(s)||G(s))n=s,t=De(s),e=ye(s);else{if(!ke.call(s,"name"))throw new Error(Rt("name"));const a=s.name;if(n=a,ke.call(s,"weight")&&(r=s.weight,r<=0))throw new Error(Kt(a));t=De(a),e=ye(a),i=s.getFn}return{path:t,id:e,weight:r,src:n,getFn:i}}function De(s){return G(s)?s:s.split(".")}function ye(s){return G(s)?s.join("."):s}function jt(s,t){let e=[],n=!1;const r=(i,a,u)=>{if(P(i))if(!a[u])e.push(i);else{let c=a[u];const h=i[c];if(!P(h))return;if(u===a.length-1&&(H(h)||qe(h)||_t(h)))e.push(Dt(h));else if(G(h)){n=!0;for(let o=0,f=h.length;o<f;o+=1)r(h[o],a,u+1)}else a.length&&r(h,a,u+1)}};return r(s,H(t)?t.split("."):t,0),n?e:e[0]}const zt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},qt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,t)=>s.score===t.score?s.idx<t.idx?-1:1:s.score<t.score?-1:1},Nt={location:0,threshold:.6,distance:100},Ht={useExtendedSearch:!1,getFn:jt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var g={...qt,...zt,...Nt,...Ht};const Vt=/[^ ]+/g;function Wt(s=1,t=3){const e=new Map,n=Math.pow(10,t);return{get(r){const i=r.match(Vt).length;if(e.has(i))return e.get(i);const a=1/Math.pow(i,.5*s),u=parseFloat(Math.round(a*n)/n);return e.set(i,u),u},clear(){e.clear()}}}class Be{constructor({getFn:t=g.getFn,fieldNormWeight:e=g.fieldNormWeight}={}){this.norm=Wt(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,n)=>{this._keysMap[e.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,H(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();H(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!P(t)||fe(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((r,i)=>{let a=r.getFn?r.getFn(t):this.getFn(t,r.path);if(P(a)){if(G(a)){let u=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:h,value:o}=c.pop();if(P(o))if(H(o)&&!fe(o)){let f={v:o,i:h,n:this.norm.get(o)};u.push(f)}else G(o)&&o.forEach((f,p)=>{c.push({nestedArrIndex:p,value:f})})}n.$[i]=u}else if(H(a)&&!fe(a)){let u={v:a,n:this.norm.get(a)};n.$[i]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function We(s,t,{getFn:e=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){const r=new Be({getFn:e,fieldNormWeight:n});return r.setKeys(s.map(Ve)),r.setSources(t),r.create(),r}function Gt(s,{getFn:t=g.getFn,fieldNormWeight:e=g.fieldNormWeight}={}){const{keys:n,records:r}=s,i=new Be({getFn:t,fieldNormWeight:e});return i.setKeys(n),i.setIndexRecords(r),i}function re(s,{errors:t=0,currentLocation:e=0,expectedLocation:n=0,distance:r=g.distance,ignoreLocation:i=g.ignoreLocation}={}){const a=t/s.length;if(i)return a;const u=Math.abs(n-e);return r?a+u/r:u?1:a}function Ut(s=[],t=g.minMatchCharLength){let e=[],n=-1,r=-1,i=0;for(let a=s.length;i<a;i+=1){let u=s[i];u&&n===-1?n=i:!u&&n!==-1&&(r=i-1,r-n+1>=t&&e.push([n,r]),n=-1)}return s[i-1]&&i-n>=t&&e.push([n,i-1]),e}const Q=32;function Yt(s,t,e,{location:n=g.location,distance:r=g.distance,threshold:i=g.threshold,findAllMatches:a=g.findAllMatches,minMatchCharLength:u=g.minMatchCharLength,includeMatches:c=g.includeMatches,ignoreLocation:h=g.ignoreLocation}={}){if(t.length>Q)throw new Error(Ot(Q));const o=t.length,f=s.length,p=Math.max(0,Math.min(n,f));let d=i,v=p;const b=u>1||c,M=b?Array(f):[];let _;for(;(_=s.indexOf(t,v))>-1;){let x=re(t,{currentLocation:_,expectedLocation:p,distance:r,ignoreLocation:h});if(d=Math.min(x,d),v=_+o,b){let S=0;for(;S<o;)M[_+S]=1,S+=1}}v=-1;let w=[],N=1,T=o+f;const I=1<<o-1;for(let x=0;x<o;x+=1){let S=0,O=T;for(;S<O;)re(t,{errors:x,currentLocation:p+O,expectedLocation:p,distance:r,ignoreLocation:h})<=d?S=O:T=O,O=Math.floor((T-S)/2+S);T=O;let J=Math.max(1,p-O+1),Z=a?f:Math.min(p+O,f)+o,y=Array(Z+2);y[Z+1]=(1<<x)-1;for(let l=Z;l>=J;l-=1){let A=l-1,C=e[s.charAt(A)];if(b&&(M[A]=+!!C),y[l]=(y[l+1]<<1|1)&C,x&&(y[l]|=(w[l+1]|w[l])<<1|1|w[l+1]),y[l]&I&&(N=re(t,{errors:x,currentLocation:A,expectedLocation:p,distance:r,ignoreLocation:h}),N<=d)){if(d=N,v=A,v<=p)break;J=Math.max(1,2*p-v)}}if(re(t,{errors:x+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:h})>d)break;w=y}const E={isMatch:v>=0,score:Math.max(.001,N)};if(b){const x=Ut(M,u);x.length?c&&(E.indices=x):E.isMatch=!1}return E}function Qt(s){let t={};for(let e=0,n=s.length;e<n;e+=1){const r=s.charAt(e);t[r]=(t[r]||0)|1<<n-e-1}return t}const oe=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class Ge{constructor(t,{location:e=g.location,threshold:n=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:a=g.findAllMatches,minMatchCharLength:u=g.minMatchCharLength,isCaseSensitive:c=g.isCaseSensitive,ignoreDiacritics:h=g.ignoreDiacritics,ignoreLocation:o=g.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:h,ignoreLocation:o},t=c?t:t.toLowerCase(),t=h?oe(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(d,v)=>{this.chunks.push({pattern:d,alphabet:Qt(d),startIndex:v})},p=this.pattern.length;if(p>Q){let d=0;const v=p%Q,b=p-v;for(;d<b;)f(this.pattern.substr(d,Q),d),d+=Q;if(v){const M=p-Q;f(this.pattern.substr(M),M)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,ignoreDiacritics:n,includeMatches:r}=this.options;if(t=e?t:t.toLowerCase(),t=n?oe(t):t,this.pattern===t){let b={isMatch:!0,score:0};return r&&(b.indices=[[0,t.length-1]]),b}const{location:i,distance:a,threshold:u,findAllMatches:c,minMatchCharLength:h,ignoreLocation:o}=this.options;let f=[],p=0,d=!1;this.chunks.forEach(({pattern:b,alphabet:M,startIndex:_})=>{const{isMatch:w,score:N,indices:T}=Yt(t,b,M,{location:i+_,distance:a,threshold:u,findAllMatches:c,minMatchCharLength:h,includeMatches:r,ignoreLocation:o});w&&(d=!0),p+=N,w&&T&&(f=[...f,...T])});let v={isMatch:d,score:d?p/this.chunks.length:1};return d&&r&&(v.indices=f),v}}class Y{constructor(t){this.pattern=t}static isMultiMatch(t){return _e(t,this.multiRegex)}static isSingleMatch(t){return _e(t,this.singleRegex)}search(){}}function _e(s,t){const e=s.match(t);return e?e[1]:null}class Jt extends Y{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class Xt extends Y{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Zt extends Y{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class es extends Y{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class ts extends Y{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ss extends Y{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class Ue extends Y{constructor(t,{location:e=g.location,threshold:n=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:a=g.findAllMatches,minMatchCharLength:u=g.minMatchCharLength,isCaseSensitive:c=g.isCaseSensitive,ignoreDiacritics:h=g.ignoreDiacritics,ignoreLocation:o=g.ignoreLocation}={}){super(t),this._bitapSearch=new Ge(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:h,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ye extends Y{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,n;const r=[],i=this.pattern.length;for(;(n=t.indexOf(this.pattern,e))>-1;)e=n+i,r.push([n,e-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const be=[Jt,Ye,Zt,es,ss,ts,Xt,Ue],$e=be.length,is=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ns="|";function rs(s,t={}){return s.split(ns).map(e=>{let n=e.trim().split(is).filter(i=>i&&!!i.trim()),r=[];for(let i=0,a=n.length;i<a;i+=1){const u=n[i];let c=!1,h=-1;for(;!c&&++h<$e;){const o=be[h];let f=o.isMultiMatch(u);f&&(r.push(new o(f,t)),c=!0)}if(!c)for(h=-1;++h<$e;){const o=be[h];let f=o.isSingleMatch(u);if(f){r.push(new o(f,t));break}}}return r})}const as=new Set([Ue.type,Ye.type]);class ls{constructor(t,{isCaseSensitive:e=g.isCaseSensitive,ignoreDiacritics:n=g.ignoreDiacritics,includeMatches:r=g.includeMatches,minMatchCharLength:i=g.minMatchCharLength,ignoreLocation:a=g.ignoreLocation,findAllMatches:u=g.findAllMatches,location:c=g.location,threshold:h=g.threshold,distance:o=g.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:u,ignoreLocation:a,location:c,threshold:h,distance:o},t=e?t:t.toLowerCase(),t=n?oe(t):t,this.pattern=t,this.query=rs(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;t=r?t:t.toLowerCase(),t=i?oe(t):t;let a=0,u=[],c=0;for(let h=0,o=e.length;h<o;h+=1){const f=e[h];u.length=0,a=0;for(let p=0,d=f.length;p<d;p+=1){const v=f[p],{isMatch:b,indices:M,score:_}=v.search(t);if(b){if(a+=1,c+=_,n){const w=v.constructor.type;as.has(w)?u=[...u,...M]:u.push(M)}}else{c=0,a=0,u.length=0;break}}if(a){let p={isMatch:!0,score:c/a};return n&&(p.indices=u),p}}return{isMatch:!1,score:1}}}const Ae=[];function us(...s){Ae.push(...s)}function xe(s,t){for(let e=0,n=Ae.length;e<n;e+=1){let r=Ae[e];if(r.condition(s,t))return new r(s,t)}return new Ge(s,t)}const ce={AND:"$and",OR:"$or"},Ce={PATH:"$path",PATTERN:"$val"},Ee=s=>!!(s[ce.AND]||s[ce.OR]),os=s=>!!s[Ce.PATH],cs=s=>!G(s)&&Ne(s)&&!Ee(s),we=s=>({[ce.AND]:Object.keys(s).map(t=>({[t]:s[t]}))});function Qe(s,t,{auto:e=!0}={}){const n=r=>{let i=Object.keys(r);const a=os(r);if(!a&&i.length>1&&!Ee(r))return n(we(r));if(cs(r)){const c=a?r[Ce.PATH]:i[0],h=a?r[Ce.PATTERN]:r[c];if(!H(h))throw new Error(Tt(c));const o={keyId:ye(c),pattern:h};return e&&(o.searcher=xe(h,t)),o}let u={children:[],operator:i[0]};return i.forEach(c=>{const h=r[c];G(h)&&h.forEach(o=>{u.children.push(n(o))})}),u};return Ee(s)||(s=we(s)),n(s)}function ds(s,{ignoreFieldNorm:t=g.ignoreFieldNorm}){s.forEach(e=>{let n=1;e.matches.forEach(({key:r,norm:i,score:a})=>{const u=r?r.weight:null;n*=Math.pow(a===0&&u?Number.EPSILON:a,(u||1)*(t?1:i))}),e.score=n})}function hs(s,t){const e=s.matches;t.matches=[],P(e)&&e.forEach(n=>{if(!P(n.indices)||!n.indices.length)return;const{indices:r,value:i}=n;let a={indices:r,value:i};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),t.matches.push(a)})}function fs(s,t){t.score=s.score}function ps(s,t,{includeMatches:e=g.includeMatches,includeScore:n=g.includeScore}={}){const r=[];return e&&r.push(hs),n&&r.push(fs),s.map(i=>{const{idx:a}=i,u={item:t[a],refIndex:a};return r.length&&r.forEach(c=>{c(i,u)}),u})}class X{constructor(t,e={},n){this.options={...g,...e},this.options.useExtendedSearch,this._keyStore=new Pt(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Be))throw new Error(wt);this._myIndex=e||We(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){P(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:u}=this.options;let c=H(t)?H(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return ds(c,{ignoreFieldNorm:u}),i&&c.sort(a),qe(e)&&e>-1&&(c=c.slice(0,e)),ps(c,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=xe(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:i,i:a,n:u})=>{if(!P(i))return;const{isMatch:c,score:h,indices:o}=e.searchIn(i);c&&r.push({item:i,idx:a,matches:[{score:h,value:i,norm:u,indices:o}]})}),r}_searchLogical(t){const e=Qe(t,this.options),n=(u,c,h)=>{if(!u.children){const{keyId:f,searcher:p}=u,d=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:p});return d&&d.length?[{idx:h,item:c,matches:d}]:[]}const o=[];for(let f=0,p=u.children.length;f<p;f+=1){const d=u.children[f],v=n(d,c,h);if(v.length)o.push(...v);else if(u.operator===ce.AND)return[]}return o},r=this._myIndex.records,i={},a=[];return r.forEach(({$:u,i:c})=>{if(P(u)){let h=n(e,u,c);h.length&&(i[c]||(i[c]={idx:c,item:u,matches:[]},a.push(i[c])),h.forEach(({matches:o})=>{i[c].matches.push(...o)}))}}),a}_searchObjectList(t){const e=xe(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:a,i:u})=>{if(!P(a))return;let c=[];n.forEach((h,o)=>{c.push(...this._findMatches({key:h,value:a[o],searcher:e}))}),c.length&&i.push({idx:u,item:a,matches:c})}),i}_findMatches({key:t,value:e,searcher:n}){if(!P(e))return[];let r=[];if(G(e))e.forEach(({v:i,i:a,n:u})=>{if(!P(i))return;const{isMatch:c,score:h,indices:o}=n.searchIn(i);c&&r.push({score:h,key:t,value:i,idx:a,norm:u,indices:o})});else{const{v:i,n:a}=e,{isMatch:u,score:c,indices:h}=n.searchIn(i);u&&r.push({score:c,key:t,value:i,norm:a,indices:h})}return r}}X.version="7.1.0";X.createIndex=We;X.parseIndex=Gt;X.config=g;X.parseQuery=Qe;us(ls);function gs(s,t,e){const n=()=>{var a,u;return new X((a=W(t))!=null?a:[],(u=W(e))==null?void 0:u.fuseOptions)},r=Ie(n());Se(()=>{var a;return(a=W(e))==null?void 0:a.fuseOptions},()=>{r.value=n()},{deep:!0}),Se(()=>W(t),a=>{r.value.setCollection(a)},{deep:!0});const i=K(()=>{const a=W(e);if(a?.matchAllWhenSearchEmpty&&!W(s))return W(t).map((c,h)=>({item:c,refIndex:h}));const u=a?.resultLimit;return r.value.search(W(s),u?{limit:u}:void 0)});return{fuse:r,results:i}}function ms(s,t){let e="",n=0,r=!1;for(let i=s.length-1;i>=0;i--){if(s[i]===">")r=!0;else if(s[i]==="<"){r=!1,e=s[i]+e;continue}if(r||n++,n<=t)e=s[i]+e;else{e="..."+e;break}}return e}function Te(s,t,e,n){function r(i,a=[]){i=i||"";let u="",c=0;a.forEach(o=>{if(o.length===2&&o[0]===o[1])return;const f=o[1]+1,p=f-o[0]>=t.length;u+=[i.substring(c,o[0]),p&&"<mark>",i.substring(o[0],f),p&&"</mark>"].filter(Boolean).join(""),c=f}),u+=i.substring(c);const h=u.indexOf("<mark>");return h!==-1&&(u=ms(u,u.length-h)),u}if(s.matches?.length){for(const i of s.matches)if(!(e&&i.key!==e)&&!n?.includes(i.key))return r(i.value,i.indices)}}const vs={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",footer:"p-1",viewport:"relative scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-start gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemWrapper:"flex-1 flex flex-col text-start min-w-0",itemLabel:"truncate space-x-1 text-dimmed",itemDescription:"truncate text-muted",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},ys=["innerHTML"],bs=["innerHTML"],As={__name:"UCommandPalette",props:pe({as:{type:null,required:!1},icon:{type:[String,Object],required:!1},trailingIcon:{type:[String,Object],required:!1},selectedIcon:{type:[String,Object],required:!1},childrenIcon:{type:[String,Object],required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:[String,Object],required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:[String,Object],required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},virtualize:{type:[Boolean,Object],required:!1,default:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},preserveGroupOrder:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},selectionBehavior:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:pe(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:t}){const e=s,n=t,r=Oe(),i=Re(s,"searchTerm",{type:String,default:""}),{t:a}=Ke(),u=Pe(),c=et(le(e,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),n),h=ge(le(e,"loading")),o=tt(()=>!!e.virtualize&&me(typeof e.virtualize=="boolean"?{}:e.virtualize,{estimateSize:32})),[f,p]=st({props:{item:{type:Object,required:!0},group:{type:Object,required:!1},index:{type:Number,required:!1}}}),d=K(()=>ue({extend:ue(vs),...u.ui?.commandPalette||{}})({virtualize:!!e.virtualize})),v=K(()=>me({},e.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[e.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),b=Ie([]),M=K(()=>b.value[b.value.length-1]?.placeholder||e.placeholder||a("commandPalette.placeholder")),_=K(()=>b.value?.length?[b.value[b.value.length-1]]:e.groups),w=K(()=>_.value?.filter(y=>y.id?!y.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))?.flatMap(y=>y.items?.map(k=>({...k,group:y.id}))||[])||[]),{results:N}=gs(i,w,v);function T(y,k){return y?.postFilter&&typeof y.postFilter=="function"&&(k=y.postFilter(i.value,k)),{...y,items:k.slice(0,v.value.resultLimit).map(l=>({...l,labelHtml:Te(l,i.value,e.labelKey),suffixHtml:Te(l,i.value,void 0,[e.labelKey])}))}}const I=K(()=>{const y=N.value.reduce((A,C)=>{const{item:L,matches:ee}=C;return L.group&&(A[L.group]||=[],A[L.group]?.push({...L,matches:ee})),A},{});if(e.preserveGroupOrder){const A=[];for(const C of _.value||[]){if(!C.items?.length)continue;const L=C.ignoreFilter?C.items:y[C.id];L?.length&&A.push(T(C,L))}return A}const k=Object.entries(y).map(([A,C])=>{const L=_.value?.find(ee=>ee.id===A);if(L)return T(L,C)}).filter(A=>!!A);return(_.value?.map((A,C)=>({...A,index:C}))?.filter(A=>A.ignoreFilter&&A.items?.length)?.map(A=>({...T(A,A.items||[]),index:A.index}))||[]).reduce((A,C)=>(A.splice(C.index,0,C),A),[...k])}),E=K(()=>I.value.flatMap(y=>y.items||[])),x=je("listboxRootRef");function S(y){y.children?.length&&(b.value.push({id:`history-${b.value.length}`,label:y.label,slot:y.slot,placeholder:y.placeholder,items:y.children}),i.value="",x.value?.highlightFirstItem())}function O(){b.value.length&&(b.value.pop(),i.value="",x.value?.highlightFirstItem())}function J(){i.value||O()}function Z(y,k){k.children?.length?(y.preventDefault(),S(k)):k.onSelect?.(y)}return(y,k)=>(B(),q(ne,null,[j(m(f),null,{default:D(({item:l,index:A,group:C})=>[j(m(xt),{value:m(ve)(l,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:l.disabled,"as-child":"",onSelect:L=>Z(L,l)},{default:D(()=>[j(it,R(m(nt)(l),{custom:""}),{default:D(({active:L,...ee})=>[j(rt,R(ee,{class:d.value.item({class:[e.ui?.item,l.ui?.item,l.class],active:L||l.active})}),{default:D(()=>[z(y.$slots,l.slot||C?.slot||"item",{item:l,index:A,ui:d.value},()=>[z(y.$slots,l.slot?`${l.slot}-leading`:C?.slot?`${C.slot}-leading`:"item-leading",{item:l,index:A,ui:d.value},()=>[l.loading?(B(),$(te,{key:0,name:s.loadingIcon||m(u).ui.icons.loading,class:F(d.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,l.ui?.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):l.icon?(B(),$(te,{key:1,name:l.icon,class:F(d.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,l.ui?.itemLeadingIcon],active:L||l.active}))},null,8,["name","class"])):l.avatar?(B(),$(at,R({key:2,size:l.ui?.itemLeadingAvatarSize||e.ui?.itemLeadingAvatarSize||d.value.itemLeadingAvatarSize()},l.avatar,{class:d.value.itemLeadingAvatar({class:[e.ui?.itemLeadingAvatar,l.ui?.itemLeadingAvatar],active:L||l.active})}),null,16,["size","class"])):l.chip?(B(),$(lt,R({key:3,size:l.ui?.itemLeadingChipSize||e.ui?.itemLeadingChipSize||d.value.itemLeadingChipSize(),inset:"",standalone:""},l.chip,{class:d.value.itemLeadingChip({class:[e.ui?.itemLeadingChip,l.ui?.itemLeadingChip],active:L||l.active})}),null,16,["size","class"])):V("",!0)]),l.prefix||l.labelHtml||m(U)(l,e.labelKey)||l.suffixHtml||l.suffix||r[l.slot?`${l.slot}-label`:C?.slot?`${C.slot}-label`:"item-label"]||m(U)(l,e.descriptionKey)||r[l.slot?`${l.slot}-description`:C?.slot?`${C.slot}-description`:"item-description"]?(B(),q("span",{key:0,class:F(d.value.itemWrapper({class:[e.ui?.itemWrapper,l.ui?.itemWrapper]}))},[se("span",{class:F(d.value.itemLabel({class:[e.ui?.itemLabel,l.ui?.itemLabel],active:L||l.active}))},[z(y.$slots,l.slot?`${l.slot}-label`:C?.slot?`${C.slot}-label`:"item-label",{item:l,index:A,ui:d.value},()=>[l.prefix?(B(),q("span",{key:0,class:F(d.value.itemLabelPrefix({class:[e.ui?.itemLabelPrefix,l.ui?.itemLabelPrefix]}))},ie(l.prefix),3)):V("",!0),se("span",{class:F(d.value.itemLabelBase({class:[e.ui?.itemLabelBase,l.ui?.itemLabelBase],active:L||l.active})),innerHTML:l.labelHtml||m(U)(l,e.labelKey)},null,10,ys),se("span",{class:F(d.value.itemLabelSuffix({class:[e.ui?.itemLabelSuffix,l.ui?.itemLabelSuffix],active:L||l.active})),innerHTML:l.suffixHtml||l.suffix},null,10,bs)])],2),m(U)(l,e.descriptionKey)?(B(),q("span",{key:0,class:F(d.value.itemDescription({class:[e.ui?.itemDescription,l.ui?.itemDescription]}))},[z(y.$slots,l.slot?`${l.slot}-description`:C?.slot?`${C.slot}-description`:"item-description",{item:l,index:A,ui:d.value},()=>[he(ie(m(U)(l,e.descriptionKey)),1)])],2)):V("",!0)],2)):V("",!0),se("span",{class:F(d.value.itemTrailing({class:[e.ui?.itemTrailing,l.ui?.itemTrailing]}))},[z(y.$slots,l.slot?`${l.slot}-trailing`:C?.slot?`${C.slot}-trailing`:"item-trailing",{item:l,index:A,ui:d.value},()=>[l.children&&l.children.length>0?(B(),$(te,{key:0,name:s.childrenIcon||m(u).ui.icons.chevronRight,class:F(d.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,l.ui?.itemTrailingIcon]}))},null,8,["name","class"])):l.kbds?.length?(B(),q("span",{key:1,class:F(d.value.itemTrailingKbds({class:[e.ui?.itemTrailingKbds,l.ui?.itemTrailingKbds]}))},[(B(!0),q(ne,null,ae(l.kbds,(de,Je)=>(B(),$(ut,R({key:Je,size:l.ui?.itemTrailingKbdsSize||e.ui?.itemTrailingKbdsSize||d.value.itemTrailingKbdsSize()},{ref_for:!0},typeof de=="string"?{value:de}:de),null,16,["size"]))),128))],2)):C?.highlightedIcon?(B(),$(te,{key:2,name:C.highlightedIcon,class:F(d.value.itemTrailingHighlightedIcon({class:[e.ui?.itemTrailingHighlightedIcon,l.ui?.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):V("",!0)]),l.children?.length?V("",!0):(B(),$(m(Ct),{key:0,"as-child":""},{default:D(()=>[j(te,{name:s.selectedIcon||m(u).ui.icons.check,class:F(d.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,l.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024))],2)])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["value","disabled","onSelect"])]),_:3}),j(m(Lt),R(m(c),{ref_key:"listboxRootRef",ref:x,"selection-behavior":s.selectionBehavior,class:d.value.root({class:[e.ui?.root,e.class]})}),{default:D(()=>[j(m(Et),{modelValue:i.value,"onUpdate:modelValue":k[1]||(k[1]=l=>i.value=l),"as-child":""},{default:D(()=>[j(ot,R({placeholder:M.value,variant:"none",autofocus:s.autofocus},m(h),{"loading-icon":s.loadingIcon,"trailing-icon":s.trailingIcon,icon:s.icon||m(u).ui.icons.search,class:d.value.input({class:e.ui?.input}),onKeydown:ct(J,["backspace"])}),ze({_:2},[b.value?.length&&(s.back||r.back)?{name:"leading",fn:D(()=>[z(y.$slots,"back",{ui:d.value},()=>[j(Le,R({icon:s.backIcon||m(u).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":m(a)("commandPalette.back")},typeof s.back=="object"?s.back:{},{class:d.value.back({class:e.ui?.back}),onClick:O}),null,16,["icon","aria-label","class"])])]),key:"0"}:void 0,s.close||r.close?{name:"trailing",fn:D(()=>[z(y.$slots,"close",{ui:d.value},()=>[s.close?(B(),$(Le,R({key:0,icon:s.closeIcon||m(u).ui.icons.close,color:"neutral",variant:"ghost","aria-label":m(a)("commandPalette.close")},typeof s.close=="object"?s.close:{},{class:d.value.close({class:e.ui?.close}),onClick:k[0]||(k[0]=l=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):V("",!0)])]),key:"1"}:void 0]),1040,["placeholder","autofocus","loading-icon","trailing-icon","icon","class"])]),_:3},8,["modelValue"]),j(m(It),{class:F(d.value.content({class:e.ui?.content}))},{default:D(()=>[I.value?.length?(B(),q("div",{key:0,role:"presentation",class:F(d.value.viewport({class:e.ui?.viewport}))},[s.virtualize?(B(),$(m(Bt),R({key:0,options:E.value,"text-content":l=>m(U)(l,e.labelKey)},o.value),{default:D(({option:l,virtualItem:A})=>[j(m(p),{item:l,index:A.index},null,8,["item","index"])]),_:1},16,["options","text-content"])):(B(!0),q(ne,{key:1},ae(I.value,l=>(B(),$(m(St),{key:`group-${l.id}`,class:F(d.value.group({class:e.ui?.group}))},{default:D(()=>[m(U)(l,e.labelKey)?(B(),$(m(Ft),{key:0,class:F(d.value.label({class:e.ui?.label}))},{default:D(()=>[he(ie(m(U)(l,e.labelKey)),1)]),_:2},1032,["class"])):V("",!0),(B(!0),q(ne,null,ae(l.items,(A,C)=>(B(),$(m(p),{key:`group-${l.id}-${C}`,item:A,index:C,group:l},null,8,["item","index","group"]))),128))]),_:2},1032,["class"]))),128))],2)):(B(),q("div",{key:1,class:F(d.value.empty({class:e.ui?.empty}))},[z(y.$slots,"empty",{searchTerm:i.value},()=>[he(ie(i.value?m(a)("commandPalette.noMatch",{searchTerm:i.value}):m(a)("commandPalette.noData")),1)])],2))]),_:3},8,["class"]),r.footer?(B(),q("div",{key:0,class:F(d.value.footer({class:e.ui?.footer}))},[z(y.$slots,"footer",{ui:d.value})],2)):V("",!0)]),_:3},16,["selection-behavior","class"])],64))}},xs={slots:{modal:"",input:"[&>input]:text-base/5"},variants:{fullscreen:{false:{modal:"sm:max-w-3xl sm:h-[28rem]"}}}},Cs=/^[^-]+.*-.*[^-]+$/,Es=/^[^_]+.*_.*[^_]+$/,Is=["arrowleft","arrowright","arrowup","arrowright","tab","escape","enter","backspace"];function Bs(s,t={}){const e=Ie([]),n=()=>{e.value.splice(0,e.value.length)},r=dt(n,t.chainDelay??800),{macOS:i}=ht(),a=ft(),u=o=>{if(!o.key)return;const f=/^[a-z]{1}$/i.test(o.key),p=Is.includes(o.key.toLowerCase());let d;if(e.value.push(o.key),e.value.length>=2){d=e.value.slice(-2).join("-");for(const v of h.value.filter(b=>b.chained))if(v.key===d){v.enabled&&(o.preventDefault(),v.handler(o)),n();return}}for(const v of h.value.filter(b=>!b.chained))if(o.key.toLowerCase()===v.key&&o.metaKey===v.metaKey&&o.ctrlKey===v.ctrlKey&&!((f||p)&&o.shiftKey!==v.shiftKey)){v.enabled&&(o.preventDefault(),v.handler(o)),n();return}r()},c=K(()=>{const o=a.value?.tagName,f=a.value?.contentEditable;return o==="INPUT"||o==="TEXTAREA"||f==="true"||f==="plaintext-only"?a.value?.name||!0:!1}),h=K(()=>Object.entries(W(s)).map(([o,f])=>{if(!f)return null;let p;o.includes("-")&&o!=="-"&&!o.includes("_")&&!o.match(Cs)?.length&&console.trace(`[Shortcut] Invalid key: "${o}"`),o.includes("_")&&o!=="_"&&!o.match(Es)?.length&&console.trace(`[Shortcut] Invalid key: "${o}"`);const d=o.includes("-")&&o!=="-"&&!o.includes("_");if(d)p={key:o.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const b=o.toLowerCase().split("_").map(M=>M);p={key:b.filter(M=>!["meta","command","ctrl","shift","alt","option"].includes(M)).join("_"),metaKey:b.includes("meta")||b.includes("command"),ctrlKey:b.includes("ctrl"),shiftKey:b.includes("shift"),altKey:b.includes("alt")||b.includes("option")}}if(p.chained=d,!i.value&&p.metaKey&&!p.ctrlKey&&(p.metaKey=!1,p.ctrlKey=!0),typeof f=="function"?p.handler=f:typeof f=="object"&&(p={...p,handler:f.handler}),!p.handler)return console.trace("[Shortcut] Invalid value"),null;let v=!0;return f.usingInput?typeof f.usingInput=="string"&&(v=c.value===f.usingInput):v=!c.value,p.enabled=v,p}).filter(Boolean));return pt("keydown",u)}const ks={__name:"UContentSearch",props:pe({icon:{type:[String,Object],required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},overlay:{type:Boolean,required:!1},transition:{type:Boolean,required:!1},content:{type:Object,required:!1},dismissible:{type:Boolean,required:!1},fullscreen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(s,{expose:t}){const e=s,n=Oe(),r=Re(s,"searchTerm",{type:String,default:""}),{t:i}=Ke(),{open:a}=bt(),u=gt(),c=Pe(),h=ge(le(e,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),o=ge(le(e,"overlay","transition","content","dismissible","fullscreen","modal","portal")),f=()=>ve(n,["content"]),p=K(()=>me({},e.fuse,{fuseOptions:{includeMatches:!0}})),d=K(()=>ue({extend:ue(xs),...c.ui?.contentSearch||{}})({fullscreen:e.fullscreen}));function v(I){return I.flatMap(E=>[{...E,suffix:E.description,description:void 0,icon:E.icon||c.ui.icons.file},...E.children?.map(x=>({...x,prefix:E.label+" >",suffix:x.description,description:void 0,icon:x.icon||E.icon||c.ui.icons.file}))||[]])}function b(I,E){return I.flatMap(x=>x.children?.length?b(x.children,x):e.files?.filter(S=>S.id===x.path||S.id.startsWith(`${x.path}#`))?.map(S=>M(S,x,E))||[])}function M(I,E,x){const S=[...new Set([x?.title,...I.titles].filter(Boolean))];return{prefix:S?.length?S.join(" > ")+" >":void 0,label:I.id===E.path?E.title:I.title,suffix:I.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:I.id,icon:E.icon||x?.icon||(I.level>1?c.ui.icons.hash:c.ui.icons.file),level:I.level}}const _=K(()=>{const I=[];return e.links?.length&&I.push({id:"links",label:i("contentSearch.links"),items:v(e.links)}),e.navigation?.length&&(e.navigation.some(E=>!!E.children?.length)?I.push(...e.navigation.map(E=>({id:E.path,label:E.title,items:b(E.children||[]),postFilter:w}))):I.push({id:"docs",items:b(e.navigation),postFilter:w})),I.push(...e.groups||[]),e.colorMode&&!u?.forced&&I.push({id:"theme",label:i("contentSearch.theme"),items:[{label:i("colorMode.system"),icon:c.ui.icons.system,active:u.preference==="system",onSelect:()=>{u.preference="system"}},{label:i("colorMode.light"),icon:c.ui.icons.light,active:u.preference==="light",onSelect:()=>{u.preference="light"}},{label:i("colorMode.dark"),icon:c.ui.icons.dark,active:u.preference==="dark",onSelect:()=>{u.preference="dark"}}]}),I});function w(I,E){return I?E:E?.filter(x=>x.level===1)}function N(I){I.disabled||(a.value=!1,r.value="")}Bs({[e.shortcut]:{usingInput:!0,handler:()=>a.value=!a.value}});const T=je("commandPaletteRef");return t({commandPaletteRef:T}),(I,E)=>(B(),$(yt,R({open:m(a),"onUpdate:open":E[2]||(E[2]=x=>vt(a)?a.value=x:null),title:s.title||m(i)("contentSearch.title"),description:s.description||m(i)("contentSearch.description")},m(o),{class:d.value.modal({class:[e.ui?.modal,e.class]})}),{content:D(x=>[z(I.$slots,"content",Me(Fe(x)),()=>[j(As,R({ref_key:"commandPaletteRef",ref:T,"search-term":r.value,"onUpdate:searchTerm":E[0]||(E[0]=S=>r.value=S)},m(h),{groups:_.value,fuse:p.value,ui:m(mt)(m(ve)(d.value,["modal"]),e.ui),"onUpdate:modelValue":N,"onUpdate:open":E[1]||(E[1]=S=>a.value=S)}),ze({_:2},[ae(f(),(S,O)=>({name:O,fn:D(J=>[z(I.$slots,O,Me(Fe(J)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},16,["open","title","description","class"]))}};export{ks as default};
